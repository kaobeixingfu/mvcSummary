!function(t,e){var i=function(t){var e=void 0!==t._Uzt_Env?t._Uzt_Env:void 0,i={name:"uzt",version:"2.0",namespace:"",classes:{},noop:function(){},$uzt:function(){var t={};"undefined"!=typeof window&&window&&"undefined"!=typeof document&&document&&(this.runtime="browser",t.global=window),t.proxyName="proxy",t.path="/src/",this.global=t.global,t.proxyName&&(Function.prototype[t.proxyName]=this.proxy),this.setPath(t.path),this.global.uzt=this.global.uzt||this},path:{},pathCache:{},getPath:function(t){var e=!!t&&t.split("."),i=this.path;if(e)for(var n=0,o=e.length;n<o;n++){var s=e[n].toLowerCase();if(!i[s])break;i=i[s]}return i.pathValue},setPath:function(t,e){var i=this.path;if("object"==typeof t)for(var n in t)n&&t.hasOwnerProperty(n)&&this.setPath(n,t[n]);if(e)for(var o=t.split("."),s=0,r=o.length;s<r;s++){var a=o[s].toLowerCase();i[a]=i[a]||{pathValue:i.pathValue},i=i[a]}else e=t;i.pathValue=e,this.pathCache={}},find:function(t){var e,i=t.split(".");e=this.classes[i[0]];for(var n=1,o=i.length;n<o;n++){if(!e||!e[i[n]]){e=null;break}e=e[i[n]]}return e},define:function(t){var e=t.name||"__defaultName",i=t.namespace||"";t.__name=e,t.__namespace=i,t.__full=i.length>0?i+"."+e:e,t.__deps=t.deps,t.__uzt=this,t.__constructor=function(){if(this.__clones&&this.__clones.length>0)for(var t=0,e=this.__clones.length;t<e;t++){var i=this.__clones[t];this[i]=this.__uzt.deepClone(this[i])}},t.__constructorSource=t[e]||this.noop,t.__staticSource=t["$"+e]||this.noop,t.__staticUpdate=function(){var e=[];for(var i in this)if(this.hasOwnProperty(i)){var n=this[i];"object"!=typeof n||null===n||"deps"===i||0===i.indexOf("__")||t.__deps&&t.__deps[i]||e.push(i)}this.__clones=e,this.__constructor.prototype=this},t.__static=function(){this.__staticSource(),this.__staticUpdate()};for(var n,o=i.split("."),s=o.length,r=this.classes,a=0;a<s;a++)(n=o[a])&&(r[n]=r[n]||{},r=r[n]);r[e]=r[e]||{};var d=r;if(r=r[e],!r.__name||!r.__registed){t.__registed=!0,d[e]=t,t=d[e];var c=this.loadDeps(t);if(c.length>0){if(this.loader=this.loader||this.using("uzt.loader"),"browser"!==this.runtime||!this.loader)throw new Error('class "'+t.name+'" loadDeps error:'+c.join(","));this.loader.loadDepsBrowser(t,c)}else t.__static()}return t},loadDeps:function(t,e){e=e||{};var i=t.__deps,n=(t.__namespace,[]);for(var o in i)if(i.hasOwnProperty(o)&&i[o]){var s;if("string"!=typeof i[o]?(t[o]=i[o],t[o]&&t[o].__name&&(s=t[o].__full)):(s=i[o],t[o]=this.find(s)),!s||e[s])continue;t[o]?t[o].__deps&&(n=n.concat(this.loadDeps(t[o],e))):n.push(s)}return n},using:function(t){return this.find(t)},proxy:function(t,e){var i=Array.prototype.slice.apply(arguments),n=i.shift(),o="function"==typeof this?this:i.shift();return function(){var t=Array.prototype.slice.apply(arguments);return o.apply(n,t.concat(i))}},shallowClone:function(t){var e=function(){};return e.prototype=t,new e},deepClone:function(t,e){"number"!=typeof e&&(e=10);var i,n=e-1;if(e>0)if(t instanceof Date)i=new Date,i.setTime(t.getTime());else if(t instanceof Array){i=[];for(var o=0,s=t.length;o<s;o++)i[o]=this.deepClone(t[o],n)}else if("object"==typeof t){i={};for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];i[r]=this.deepClone(a,n)}}else i=t;else i=t;return i}};i.define(i),i.define({name:"lang",namespace:"hjdsp.common.utility",getType:function(t){return Object.prototype.toString.call(t).replace(/\[object (\w+)\]/g,function(t,e){return e.toLowerCase()})},assign:function(){if(!arguments)return{};for(var t=arguments.length,e={},i=0;i<t;i++)for(var n in arguments[i])arguments[i].hasOwnProperty(n)&&(e[n]=arguments[i][n]);return e},dateformat:function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},template:function(t,e){return t.replace(/{(.*?)}/g,function(t,i){return e[i]||""})},encodeHTML:function(t){var e={'"':"&quot;",">":"&gt;","<":"&lt;","&":"&amp;"};return t.replace(/[\"<>\&]/g,function(t){return e[t]})},format:function(t,e){var i=this;return t.replace(/\{(\w+)\:(\w+)\}/g,function(t,n,o){var s=e[n];if(!s)return"";switch(o){case"number":s=+s||0;break;case"boolean":s=!!s;break;case"html":s=i.encodeHTML(s)}return s})},sendJsonpRequest:function(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=t;var i=document.getElementsByTagName("script")[0];i&&i.parentNode&&i.parentNode.insertBefore(e,i)},utf8Encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},utf8Decode:function(t){var e,i,n,o="",s=0;for(e=i=0;s<t.length;)e=t.charCodeAt(s),e<128?(o+=String.fromCharCode(e),s++):e>191&&e<224?(i=t.charCodeAt(s+1),o+=String.fromCharCode((31&e)<<6|63&i),s+=2):(i=t.charCodeAt(s+1),n=t.charCodeAt(s+2),o+=String.fromCharCode((15&e)<<12|(63&i)<<6|63&n),s+=3);return o},base64Encode:function(t){var e,i,n,o,s,r,a,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(t=this.utf8Encode(t);l<t.length;)e=t.charCodeAt(l++),i=t.charCodeAt(l++),n=t.charCodeAt(l++),o=e>>2,s=(3&e)<<4|i>>4,r=(15&i)<<2|n>>6,a=63&n,isNaN(i)?r=a=64:isNaN(n)&&(a=64),c=c+d.charAt(o)+d.charAt(s)+d.charAt(r)+d.charAt(a);return c},base64Decode:function(t){var e,i,n,o,s,r,a,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)o=d.indexOf(t.charAt(l++)),s=d.indexOf(t.charAt(l++)),r=d.indexOf(t.charAt(l++)),a=d.indexOf(t.charAt(l++)),e=o<<2|s>>4,i=(15&s)<<4|r>>2,n=(3&r)<<6|a,c+=String.fromCharCode(e),64!=r&&(c+=String.fromCharCode(i)),64!=a&&(c+=String.fromCharCode(n));return c=this.utf8Decode(c)},sha1:function(t){var e,i,n,o,s,r,a,d,c,l=function(t,e){return t<<e|t>>>32-e},h=function(t){var e,i,n="";for(e=7;e>=0;e--)i=t>>>4*e&15,n+=i.toString(16);return n},p=new Array(80),u=1732584193,f=4023233417,g=2562383102,m=271733878,v=3285377520;t=unescape(encodeURIComponent(t));var y=t.length,b=[];for(i=0;i<y-3;i+=4)n=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),b.push(n);switch(y%4){case 0:i=2147483648;break;case 1:i=t.charCodeAt(y-1)<<24|8388608;break;case 2:i=t.charCodeAt(y-2)<<24|t.charCodeAt(y-1)<<16|32768;break;case 3:i=t.charCodeAt(y-3)<<24|t.charCodeAt(y-2)<<16|t.charCodeAt(y-1)<<8|128}for(b.push(i);b.length%16!=14;)b.push(0);for(b.push(y>>>29),b.push(y<<3&4294967295),e=0;e<b.length;e+=16){for(i=0;i<16;i++)p[i]=b[e+i];for(i=16;i<=79;i++)p[i]=l(p[i-3]^p[i-8]^p[i-14]^p[i-16],1);for(o=u,s=f,r=g,a=m,d=v,i=0;i<=19;i++)c=l(o,5)+(s&r|~s&a)+d+p[i]+1518500249&4294967295,d=a,a=r,r=l(s,30),s=o,o=c;for(i=20;i<=39;i++)c=l(o,5)+(s^r^a)+d+p[i]+1859775393&4294967295,d=a,a=r,r=l(s,30),s=o,o=c;for(i=40;i<=59;i++)c=l(o,5)+(s&r|s&a|r&a)+d+p[i]+2400959708&4294967295,d=a,a=r,r=l(s,30),s=o,o=c;for(i=60;i<=79;i++)c=l(o,5)+(s^r^a)+d+p[i]+3395469782&4294967295,d=a,a=r,r=l(s,30),s=o,o=c;u=u+o&4294967295,f=f+s&4294967295,g=g+r&4294967295,m=m+a&4294967295,v=v+d&4294967295}return c=h(u)+h(f)+h(g)+h(m)+h(v),c.toLowerCase()},requestAnimFrame:function(t){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)})(t)}}),i.define({name:"dom",namespace:"hjdsp.common.utility",deps:{lang:"hjdsp.common.utility.lang"},get:function(t){return"string"==typeof t&&t.length>0?document.getElementById(t):null},_events:{},createSign:function(t,e){t._bindSign||(t._bindSign={}),t._bindSign[e]="_"+Math.random().toString(36).slice(2)},bind:function(t,e,i){return t._bindSign&&t._bindSign[e]||this.createSign(t,e),this._events[t._bindSign[e]]=i,t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=function(){i.apply(this,arguments)},t},unbind:function(t,e){if(t._bindSign&&t._bindSign[e]){var i=this._events[t._bindSign[e]];return t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null,t}},getStyle:function(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle(t,null)[e]},getAttributeUtil:function(t,e,i){return t===e||t.hasAttribute(i)?t.getAttribute(i):this.getAttributeUtil(t.parentNode,e,i)},isWindow:function(t){return null!==t&&t===t.window},getWindow:function(t){return this.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)},offset:function(t){var e,i,n={top:0,left:0},o=t&&t.ownerDocument;if(o)return e=o.documentElement,void 0!==t.getBoundingClientRect&&(n=t.getBoundingClientRect()),i=this.getWindow(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}}),i.define({name:"data",namespace:"hjdsp.common.utility",defineOnce:function(t,e){return window[t]?window[t]:(window[t]=e,window[t])}}),i.define({name:"cookie",namespace:"hjdsp.common.utility",deps:{},$cookie:function(){this.isEnabled=!!navigator.cookieEnabled&&navigator.cookieEnabled},getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,i,n,o,s){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var r="";if(i)switch(i.constructor){case Number:r=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:r="; expires="+i;break;case Date:r="; expires="+i.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+r+(o?"; domain="+o:"")+(n?"; path="+n:"")+(s?"; secure":""),!0},removeItem:function(t,e,i){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}}),i.define({name:"tween",namespace:"hjdsp.common.utility",Linear:function(t,e,i,n){return i*t/n+e},Quad:{easeIn:function(t,e,i,n){return i*(t/=n)*t+e},easeOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOut:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOut:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOut:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOut:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}},Expo:{easeIn:function(t,e,i,n){return 0==t?e:i*Math.pow(2,10*(t/n-1))+e},easeOut:function(t,e,i,n){return t==n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOut:function(t,e,i,n){return 0==t?e:t==n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e}},Circ:{easeIn:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOut:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOut:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Elastic:{easeIn:function(t,e,i,n,o,s){var r;return 0==t?e:1==(t/=n)?e+i:(void 0===s&&(s=.3*n),!o||o<Math.abs(i)?(r=s/4,o=i):r=s/(2*Math.PI)*Math.asin(i/o),-(o*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/s))+e)},easeOut:function(t,e,i,n,o,s){var r;return 0==t?e:1==(t/=n)?e+i:(void 0===s&&(s=.3*n),!o||o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),o*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/s)+i+e)},easeInOut:function(t,e,i,n,o,s){var r;return 0==t?e:2==(t/=n/2)?e+i:(void 0===s&&(s=n*(.3*1.5)),!o||o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/s))+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/s)*.5+i+e)}},Back:{easeIn:function(t,e,i,n,o){return void 0===o&&(o=1.70158),i*(t/=n)*t*((o+1)*t-o)+e},easeOut:function(t,e,i,n,o){return void 0===o&&(o=1.70158),i*((t=t/n-1)*t*((o+1)*t+o)+1)+e},easeInOut:function(t,e,i,n,o){return void 0===o&&(o=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(o*=1.525))*t-o))+e:i/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e}},Bounce:{easeIn:function(t,e,i,n){return i-this.easeOut(n-t,0,i,n)+e},easeOut:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,i,n){var o=this;return t<n/2?.5*o.easeIn(2*t,0,i,n)+e:.5*o.easeOut(2*t-n,0,i,n)+.5*i+e}}});i.define({name:"config",namespace:"hjdsp.common",ENVIRONMENT:void 0!==e&&""!==e?e:"prod",IS_CNAME:!1,LOADER_DEFINE_NAME:"__jsonpcallback",$config:function(){},REQUEST_URI:{dev:"//qa1u8.qabi.hujiang.com/v2/template?",qa1:"//qa1u8.qabi.hujiang.com/v2/template?",qa:"//qau8.hujiang.com/v2/template?",yz:"//yzu8.hujiang.com/v2/template?",prod:"//u8.hujiang.com/v2/template?"},REPORT_URI:{dev:"//qa1u8.qabi.hujiang.com/v2/log?",qa1:"//qa1u8.qabi.hujiang.com/v2/log?",qa:"//qau8.hujiang.com/v2/log?",yz:"//yzu8.hujiang.com/v2/log?",prod:"//u8.hujiang.com/v2/log?"},CLOSE_BUTTON_BASE:function(){return"prod"===(void 0!==e&&""!==e?e:"prod")?"//res.hjfile.cn/lib/uzhi/":"//yzres.hjfile.cn/lib/uzhi/"}(),STATUS_CREATE:1,STATUS_REQUEST:2,STATUS_RESPONSE:4,STATUS_RENDERED:8,STATUS_FINISH:16,INTERACTIVE:{open:1,nothing:2,download:3,openapp:4},TEXT_LINKS_DEFAULT:{list:{lineHeight:"29px",inlineSize:"0px"},text:{size:14,unit:"px",defaultColor:"#333",hoverColor:"#49b849",defaultBold:"normal",defaultItalic:"normal",defaultUnderline:"none",space:6,target:"_blank",clickUrl:"#"}},BOTTOM_FLOAT_DEFAULT:{doc:{width:89,height:144},defaultHeight:100,defaultColor:"#0c0c0c",defaultOpacity:.7},POSITIONS:{1:"left,top",2:"center,top",3:"right,top",4:"left,center",5:"center,center",6:"right,center",7:"left,bottom",8:"center,bottom",9:"right,bottom",10:"none"},DSP_PREFIX:"HJDSP_",HTTP_PROTOCOL:"http",USER_SET_PREFIX:"_UZT_USER_SET_",COOKIE_EXPIRES_DEFAULT:15552e3,CLOSE_EXPIRES_DEFAULT:1296e3,$config:function(){this.HTTP_PROTOCOL="https:"===document.location.protocol?"https":"http",i.global.userConfig&&(this.REQUEST_URL_CNAME=i.global.userConfig.domain?i.global.userConfig.domain:"")}});i.define({name:"device",namespace:"hjdsp.common.utility",deps:{cookie:"hjdsp.common.utility.cookie"},$device:function(){this.isCookie=this.cookie.isEnabled},width:window.screen.width,height:window.screen.height,avlHeight:document.body.clientHeight,avlWidth:document.body.clientWidth,isPortrai:this.width>this.height}),i.define({name:"param",namespace:"hjdsp.business",deps:{config:"hjdsp.common.config",lang:"hjdsp.common.utility.lang",cookie:"hjdsp.common.utility.cookie",dom:"hjdsp.common.utility.dom",device:"hjdsp.common.utility.device"},translateScaleToPixelSize:function(){},generateVisitorId:function(){var t=new Date,e=Math.round(t.getTime()),i=this.lang.sha1((window.userAgent||"")+(window.platform||"")+"undefined"+e).slice(0,32);return i.substring(0,8)+"-"+i.substring(8,12)+"-"+i.substring(12,16)+"-"+i.substring(16,20)+"-"+i.substring(20)},setAllSiteNewVisitor:function(){var t=this.generateVisitorId();return this.cookie.setItem("HJ_UID",t,this.config.COOKIE_EXPIRES_DEFAULT),t},getVisitorID:function(){var t=this.cookie.getItem("HJ_UID");return t||(t=this.setAllSiteNewVisitor()),t},getUserID:function(){var t=this.cookie.getItem("hj_token");return t&&t.indexOf(!0)?parseInt(this.lang.base64Decode(t.split("|")[1]),16):-1},generateRequestId:function(){return this.generateVisitorId()},getScreenNumber:function(t){if(!t.size)return 1;var e=this.dom.get(t.containerId);return 1+~~(this.dom.offset(e).top/document.body.clientHeight)},getPreUrl:function(){return document.referrer?document.referrer:""},getPageUrl:function(){return document.location.href},getPageParam:function(){var t={b0:this.getVisitorID(),b6:this.device.isPortrai,b7:this.device.width,b8:this.device.height,b9:this.device.avlHeight,ba:this.device.avlWidth,bb:this.device.isCookie,bc:encodeURIComponent(this.getPreUrl()),bd:encodeURIComponent(this.getPageUrl()),bu:encodeURIComponent(navigator.userAgent)};return this.getUserID()!==-1&&(t.b4=this.getUserID()),t},getReportParam:function(t,e){var i=t.request,n=t.response,o={b0:i.b0,b2:i.b2,b3:i.b3,bc:i.bc,bd:i.bd,bt:(new Date).getTime(),bu:encodeURIComponent(navigator.userAgent),bv:encodeURIComponent(this.lang.dateformat(new Date,"yyyy-MM-dd hh:mm:ss")),d3:n.d3,d4:n.d4,f1:e,f3:void 0!==window._siteid?window._siteid:-1,f5:this.cookie.getItem("HJ_SID")||-1,f6:!(!t.playMode||2!==t.playMode),g0:n.g0};return i.b4&&(o.b4=i.b4),i.bw&&(o.bw=i.bw),o},getParamString:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];e.push(i+"="+n)}return e.join("&")},positionToStyle:function(t,e,i){var n=t.split(",");if(n.length<2)return"";var o={};"number"==typeof e?o.top=o.left=o.right=o.bottom=e:o=e;for(var s="",r=0,a=n.length;r<a;r++){switch(n[r]){case"left":s+="left:"+o.left+"px;";break;case"top":s+="top:"+o.top+"px;";break;case"center":if(0===r){s+="top:50%;marging-left:-"+(i?i.height/2:0)+"px;"}else{s+="top:50%;marging-top:-"+(i?i.height/2:0)+"px;"}break;case"right":s+="right:"+o.right+"px;";break;case"bottom":s+="bottom:"+o.bottom+"px;"}}return s},getFileName:function(t,e){var i=t.lastIndexOf("/"),n=t.substr(i+1);return e?n:n.replace(/\.\w*/gi,"")},getCreativeUri:function(t){if(t.response.g0){var e={};e.g0=[],e.b2=t.response.b2;var i=t.response.g0;return Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),s=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(i=e),n=0;n<s;){var r;n in o&&(r=o[n],t.call(i,r,n,o)),n++}}),i.forEach(function(t,i){var n={d0:t.d0,d1:t.d1,d2:t.d2,dq:t.dq,dy:t.dy,dz:t.dz};e.g0.push(n)}),e.visitId={},this.getUserID()!==-1?e.visitId.b0=this.getUserID():e.visitId.b1=this.getVisitorID(),t.response.dx+"?jsonStr="+encodeURIComponent(JSON.stringify(e))}}}),i.define({name:"slot",namespace:"hjdsp.business",deps:{lang:"hjdsp.common.utility.lang",config:"hjdsp.common.config",dom:"hjdsp.common.utility.dom",param:"hjdsp.business.param",device:"hjdsp.common.utility.device"},$slot:function(){this.slotsMap=this.slotsMap||{}},slotIdCountMap:{},setStatus:function(t,e){var i=this.getSlotInfo(t);i&&i.status!==e&&(i.status=e),e&this.config.STATUS_FINISH>0&&this.adSlotFinish(i)},adSlotFinish:function(){},addSlot:function(t){this.slotsMap[t.slotId]=t},getSlotInfo:function(t){return this.slotsMap[t]},process:function(){var t=this.slotsMap;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];if(i.status>=this.config.STATUS_REQUEST)continue;i.priority==i.slotId?(this.createContainer(i),this.requestSlotInfo(i)):this.setPriorityCall(i.priority,i.slotId)}},setPriorityCall:function(t,e){var n=this.getSlotInfo(t),o=this;n&&(n.prioritCallback=i.proxy(this,function(){o.processOne(n,e)}))},processOne:function(t,e){var i=this.getSlotInfo(e);1!==t.playMode&&(this.setStatus(e,this.config.STATUS_CREATE),this.createContainer(i,!0),this.requestSlotInfo(i))},createContainer:function(t,e){if(!(t.status>this.config.STATUS_CREATE)){if(!this.dom.get(t.containerId))if(e){var i=document.createElement("div");i.id=t.containerId,document.body.appendChild(i)}else document.write("<div id='"+t.containerId+"'></div>")}},createSlot:function(t){var e=t.id+"";this.slotIdCountMap[e]=this.slotIdCountMap[e]||0;var i={};return i.slotId=e,i.index=this.slotIdCountMap[e]++,i.id=e+"_"+i.index,i.containerId="_"+this.lang.base64Encode(this.config.DSP_PREFIX+"wrapper_"+e+"_"+i.index).slice(8),this.setStatus(t.id,this.config.STATUS_CREATE),i},requestSlotInfo:function(t){var e=this.getSlotParam(t),i=this.param.getPageParam();t.request=t.request||this.lang.assign(e,i,t.width?{bw:t.width+"*"+t.height}:{});var n=this.param.getParamString(t.request),o=this.config.REQUEST_URI[this.config.ENVIRONMENT];"dev"!==this.config.ENVIRONMENT?this.lang.sendJsonpRequest(o+n):this.lang.sendJsonpRequest(o+t.slotId+"/jscallback.js")},getSlotParam:function(t){return{a0:this.config.LOADER_DEFINE_NAME,b2:t.slotId,b3:this.param.generateRequestId(),b5:this.param.getScreenNumber(t),bt:(new Date).getTime(),bv:encodeURIComponent(this.lang.dateformat(new Date,"yyyy-MM-dd hh:mm:ss"))}}}),i.define({name:"log",namespace:"hjdsp.common.utility",deps:{lang:"hjdsp.common.utility.lang",config:"hjdsp.common.config",slot:"hjdsp.business.slot",param:"hjdsp.business.param"},report:function(t,e,i){var n=this.slot.getSlotInfo(t),o=this.param.getReportParam(n,e);"close"!==e&&"replay"!==e||(delete o.f6,delete o.dq),"click"===e&&delete o.f6,"number"===this.lang.getType(i)?o.g0[0].d10=i:"array"===this.lang.getType(i)&&(o.g0=i),o.g0=encodeURIComponent(JSON.stringify(o.g0));var s=this.config.REPORT_URI[this.config.ENVIRONMENT];if("dev"!==this.config.ENVIRONMENT){var r=this.param.getParamString(o);this.lang.sendJsonpRequest(s+r)}else this.lang.sendJsonpRequest(s+t+"/report.js")}}),i.define({name:"material",namespace:"hjdsp.business",deps:{lang:"hjdsp.common.utility.lang"},$material:function(){var t=this;this.materialFactory={image:'<a href="{clickUrl:string}" target="{target:string}"><img src="{src:string}" title="{title:html}" alt="{title:html}" border="0" height="{height:number}" width="{width:number}" /></a>',mobileImage:'<a href="{clickUrl:string}" target="{target:string}"><img src="{src:string}" title="{title:html}" alt="{title:html}" border="0" height="{height:string}" width="{width:string}" /></a>',text:function(e){var i="";2===e.listStyle&&(i='<span style="font-size: {size:number}{unit:string};padding-right:{space:number}{unit:string};">&bull;</span>');var n='<span style="word-wrap:break-word;"><a href="{clickUrl:string}" target="{target:string}" onmouseout=this.style.color=\'{defaultColor:string}\'; onmouseover=this.style.color=\'{hoverColor:string}\'; style="font-size:{size:number}{unit:string};color:{defaultColor:string};font-weight:{defaultBold:string};font-style:{defaultItalic:string};text-decoration:{defaultUnderline:string};font-family:\'Microsoft Yahei\'" rid="{rid:string}">'+i+"{text:string}</a></span>";return t.lang.format(n,e)},list:function(e,i){var n=this.text(i),o='<li style="width:{cloumWidth:string};display:inline-block;font-size:{inlineSize:string};line-height:{lineHeight:string};height:{lineHeight:string};overflow:hidden;text-align:{textAlign:string}">'+n+"</li>";return t.lang.format(o,e)}}},formatMaterial:function(t){if("string"==typeof t)return t;if(!t.type)return"";var e=this.materialFactory[t.type];if(e){return"<!DOCTYPE html><body>"+this.lang.format(e,t)}return""}}),i.define({name:"frame",namespace:"hjdsp.business",deps:{config:"hjdsp.common.config",lang:"hjdsp.common.utility.lang",data:"hjdsp.common.utility.data",slot:"hjdsp.business.slot",material:"hjdsp.business.material",param:"hjdsp.business.param"},renderFrameHTML:function(t){return this.lang.template('<iframe id="{iframeId}" {onloadDefine} {srcAttriName}="{url}" width="{iframeWidth}" height="{iframeHeight}" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0; margin:0;" allowtransparency="true"></iframe>',t)},getFrameHTML:function(t){t.iframeId="iframe_"+t.id;var e=this.processFrameData(t);return this.renderFrameHTML(e)},processFrameData:function(t){var e=i.shallowClone(t),n=this.config.DSP_PREFIX+"renderFrame";return this.data.defineOnce(n,i.proxy(this,this.renderFrame)),e.onloadDefine='onload="'+n+"('"+t.slotId+"', this);\"",e.srcAttriName="src",e.url=t.response.dx?this.param.getCreativeUri(t):"about:blank",e.iframeWidth=e.width||e.response.d6,e.iframeHeight=e.height||e.response.d5,e},renderFrame:function(t,e){var i=this.slot.getSlotInfo(t);if(this.slot.setStatus(t,this.config.STATUS_FINISH),i&&i.materials){var n=this.material.formatMaterial(i.materials),o=e.contentWindow.document;o.open("text/html","replace"),o.write(n),o.body&&(o.body.style.backgroundColor="transparent")}}}),i.define({name:"standardDelivery",namespace:"hjdsp.business.delivery",deps:{slot:"hjdsp.business.slot",param:"hjdsp.business.param"},launch:function(){this.delieveryObjArray=this.delieveryObjArray||[],window._Uzt_Slots=window._Uzt_Slots||[],window._Uzt_Slots instanceof Array&&(this.delieveryObjArray=this.delieveryObjArray.concat(window._Uzt_Slots),window._Uzt_Slots=[]),this.updateApi(),this.process()},process:function(){for(var t=0,e=this.delieveryObjArray.length;t<e;t++){var i=this.delieveryObjArray[t],n=this.slot.createSlot(i);if(i.size){var o=i.size.split(",");n.size=i.size,n.width=o[0]?o[0]:0,n.height=o[1]?o[1]:0}n.hasMask=void 0===i.hasMask||i.hasMask,n.isModal=void 0===i.isModal||i.isModal,n.containerId=i.cid||n.containerId,n.priority=i.priority||i.id,n.clopos=i.clodeviate||0,this.slot.addSlot(n)}this.slot.process()},updateApi:function(){window._Uzt_Slots=this,window._Uzt_Slots.load=!0}}),i.define({name:"asyncDelivery",namespace:"hjdsp.business.delivery",deps:{slot:"hjdsp.business.slot",param:"hjdsp.business.param"},launch:function(t){this.slots=t,this.delieveryObjArray=this.delieveryObjArray||[],t instanceof Array&&(this.delieveryObjArray=this.delieveryObjArray.concat(t)),this.updateApi(),this.process()},process:function(){for(var t=0,e=this.delieveryObjArray.length;t<e;t++){var i=this.delieveryObjArray[t],n=this.slot.createSlot(i);if(i.size){var o=i.size.split(",");n.size=i.size,n.width=o[0]?o[0]:0,n.height=o[1]?o[1]:0}n.hasMask=void 0===i.hasMask||i.hasMask,n.isModal=void 0===i.isModal||i.isModal,n.containerId=i.cid||n.containerId,n.priority=i.priority||i.id,n.clopos=i.clodeviate||0,this.slot.addSlot(n)}this.slot.process()},updateApi:function(){this.slots=this,this.slots.load=!0}}),i.define({name:"fixpic",namespace:"hjdsp.ui",deps:{config:"hjdsp.common.config",slot:"hjdsp.business.slot",dom:"hjdsp.common.utility.dom",frame:"hjdsp.business.frame",log:"hjdsp.common.utility.log"},setMaterrials:function(t){var e={};try{e={type:"image",target:"_blank",src:t.response.d7[0].d9,title:"",alt:"",height:t.response.d5,width:t.response.d6};var i=t.response.dg;i===this.config.INTERACTIVE.open?e.clickUrl=t.response.dh:i===this.config.INTERACTIVE.nothing&&(e.clickUrl="javascript:void(0)")}catch(t){}return e},render:function(t){this.slot.setStatus(t.slotId,this.config.STATUS_RENDERED);var e=this.dom.get(t.containerId);if(e){t.materials=this.setMaterrials(t);var n=this.frame.getFrameHTML(t);e.innerHTML=n,this.slot.setStatus(t.slotId,this.config.STATUS_FINISH),this.log.report(t.slotId,"show");var o=this.dom.get("iframe_"+t.id).contentWindow.document;this.dom.bind(o,"click",i.proxy(this,function(){this.log.report(t.slotId,"click")}))}}}),i.define({name:"textlinks",namespace:"hjdsp.ui",deps:{config:"hjdsp.common.config",slot:"hjdsp.business.slot",dom:"hjdsp.common.utility.dom",frame:"hjdsp.business.frame",log:"hjdsp.common.utility.log",material:"hjdsp.business.material",lang:"hjdsp.common.utility.lang"},joinContainer:function(t,e){return'<ul style="width:'+t.width+";height:"+t.height+';overflow:hidden; padding:0; display:inline-block;margin:0;">'+e+"</ul>"},render:function(t){this.slot.setStatus(t.slotId,this.config.STATUS_RENDERED);var e=this.dom.get(t.containerId);if(e)try{var n=t.response.da,o=n.length,s=t.response.dt,r="",a=t.response.du||1,d=this.config.TEXT_LINKS_DEFAULT.list;d.cloumWidth=(100/s).toFixed(2)+"%";for(var c={width:t.width+"px",height:t.height+"px"},l=0;l<o;l++){var h=n[l],p=this.lang.assign(this.config.TEXT_LINKS_DEFAULT.text,{size:h.dd,defaultColor:h.de,hoverColor:h.db,text:h.dc,listStyle:a,clickUrl:h.df,rid:h.d10});d.textAlign="2"===h.dw?"center":"3"===h.dw?"right":"left",r+=this.material.materialFactory.list(d,p)}t.materials=this.joinContainer(c,r);var u=this.frame.getFrameHTML(t);e.innerHTML=u;var f=this.dom.get("iframe_"+t.id).contentWindow.document;this.dom.bind(f,"click",i.proxy(this,function(e){var i=e.target||e.srcElement;if("A"===i.nodeName){var n=parseInt(i.getAttribute("rid"))||-1;this.log.report(t.slotId,"click",n)}})),this.log.report(t.slotId,"show")}catch(t){}}}),i.define({name:"drawcurtain",namespace:"hjdsp.ui",deps:{config:"hjdsp.common.config",slot:"hjdsp.business.slot",dom:"hjdsp.common.utility.dom",frame:"hjdsp.business.frame",log:"hjdsp.common.utility.log",material:"hjdsp.business.material",lang:"hjdsp.common.utility.lang",param:"hjdsp.business.param",cookie:"hjdsp.common.utility.cookie",tween:"hjdsp.common.utility.tween"},render:function(t){this.slot.setStatus(t.slotId,this.config.STATUS_RENDERED);var e=this.dom.get(t.containerId);if(e){var i=t.response.d7;if(i&&i.length>0){var n=t.response.d2&&t.response.d2!==-1?t.response.d2:"DEFAULT",o=this.cookie.getItem(this.config.USER_SET_PREFIX+t.id+"_"+n),s=o?o.split("|"):[],r=s.length>0?+s[0]:+t.response.dj,a=this.param.getFileName(i[0].d9,!1);o&&s[1]!==a&&(r=1,this.cookie.setItem(this.config.USER_SET_PREFIX+t.id+"_"+n,r+"|"+a,this.config.CLOSE_EXPIRES_DEFAULT)),1===r?this.reanderDrawcurtain(e,i,t):this.renderDoc(e,i,t),t.playMode=r,this.log.report(t.slotId,"show")}else e.style.display="none"}},size:0,reanderDrawcurtain:function(t,e,i){var n=this,o=this.dom.get("_drawcurtain_"+i.id);if(o)document.body.scrollTop=0,n.float_easeInout(o,"height",!0);else try{var s=i.response.d5,r=e[0].d9;o=document.createElement("div"),o.setAttribute("id","_drawcurtain_"+i.id);o.style.cssText=this.lang.format("width:100%;height:{resourceHeight:string}px;position:relative;background:url({bigPic:string}) center top no-repeat;",{resourceHeight:"1",bigPic:r}),this.size=s;if(i.response.dg===this.config.INTERACTIVE.nothing)this.dom.bind(o,"click",function(){n.log.report(i.slotId,"click")});else{var a=document.createElement("a");a.style.cssText="display:block;height:100%;",a.setAttribute("target","_blank"),a.setAttribute("href",i.response.dh?i.response.dh:"#"),this.dom.bind(a,"click",function(){n.log.report(i.slotId,"click")}),o.appendChild(a)}var d=this.config.POSITIONS[i.response.dm];if("none"!==d){var c=i.clopos,l=this.param.positionToStyle(d,s>=360?{top:20,bottom:20,left:20+c,right:20+c}:{top:10,bottom:10,left:10+c,right:10+c}),h=document.createElement("a");h.style.cssText="position:absolute;cursor:pointer;width:25px;height:25px;background:url("+this.config.CLOSE_BUTTON_BASE+"images/close.png) center center no-repeat;"+l,this.dom.bind(h,"click",function(){n.closeDrawcurtain(t,e,i)}),o.appendChild(h)}t.appendChild(o);var p=new Image;p.onload=function(){document.body.scrollTop=0,n.float_easeInout(o,"height",!0)},p.src=r}catch(t){}},closeDrawcurtain:function(t,e,i){var n=this.dom.get("_drawcurtain_"+i.id),o=this.param.getFileName(e[0].d9,!1),s=this,r=i.response.d2&&i.response.d2!==-1?i.response.d2:"DEFAULT";this.cookie.setItem(this.config.USER_SET_PREFIX+i.id+"_"+r,"2|"+o,this.config.CLOSE_EXPIRES_DEFAULT),n&&this.float_easeInout(n,"height",!1,function(){n.style.display="none",s.renderDoc(t,e,i)}),this.log.report(i.slotId,"close")},float_easeInout:function(t,e,i,n){if(t){var o=this,s=0,r=o.size,a=function(){
var d=o.tween.Quint.easeOut(s,0,r,50);i||(d=r-d),s++,i&&"none"===o.dom.getStyle(t,"display")&&(t.style.display=""),s<=50?(o.lang.requestAnimFrame(a),"function"==typeof n&&40===s&&n.call(o)):i||(t.style.display="none"),t.style[e]=d+"px"};a()}},renderDoc:function(t,e,i){if(!(e.length<2)){var n=this,o=this.dom.get("_drawdoc_"+i.id);if(o)o.style.display="";else try{var s=e[1].d9,r=this.config.POSITIONS[i.response.dl],a=this.param.positionToStyle(r,0);o=document.createElement("div"),o.setAttribute("id","_drawdoc_"+i.id),o.style.cssText="position:fixed;z-index:10000;cursor:pointer;"+a;var d=new Image;d.src=s,this.dom.bind(o,"click",function(){n.replayDrawcurtain(t,e,i)}),o.appendChild(d),t.appendChild(o)}catch(t){}}},replayDrawcurtain:function(t,e,i){var n=this.dom.get("_drawdoc_"+i.id),o=this.param.getFileName(e[0].d9,!1),s=i.response.d2&&i.response.d2!==-1?i.response.d2:"DEFAULT";this.cookie.setItem(this.config.USER_SET_PREFIX+i.id+"_"+s,"1|"+o,this.config.CLOSE_EXPIRES_DEFAULT),n&&(n.style.display="none",this.reanderDrawcurtain(t,e,i)),this.log.report(i.slotId,"replay")},resizeHandle:function(){}}),i.define({name:"bottomfloat",namespace:"hjdsp.ui",deps:{config:"hjdsp.common.config",slot:"hjdsp.business.slot",dom:"hjdsp.common.utility.dom",frame:"hjdsp.business.frame",log:"hjdsp.common.utility.log",material:"hjdsp.business.material",lang:"hjdsp.common.utility.lang",param:"hjdsp.business.param",cookie:"hjdsp.common.utility.cookie",tween:"hjdsp.common.utility.tween"},render:function(t){this.slot.setStatus(t.slotId,this.config.STATUS_RENDERED);var e=this.dom.get(t.containerId);if(e){var i=t.response.d7;if(i&&i.length>0){var n=t.response.d2&&t.response.d2!==-1?t.response.d2:"DEFAULT",o=this.cookie.getItem(this.config.USER_SET_PREFIX+t.id+"_"+n),s=o?o.split("|"):[],r=s.length>0?+s[0]:+t.response.dj,a=this.param.getFileName(i[0].d9,!1);o&&s[1]!==a&&(r=1,this.cookie.setItem(this.config.USER_SET_PREFIX+t.id+"_"+n,r+"|"+a,this.config.CLOSE_EXPIRES_DEFAULT)),t.playMode=r,this.reanderPress(e,i,t,r),this.log.report(t.slotId,"show")}else e.style.display="none"}},reanderPress:function(t,e,i,n){var o=this,s=i.response.d5;if(resourceWidth=i.response.d6,t.style.cssText="z-index:99;width:100%;position:fixed;height:"+s+"px;bottom:0;left:"+(2===n?"100%":"0")+";",e.length>1){var r=e[1].d9,a=i.response.dl,d=document.createElement("div");d.style.cssText=this.lang.format("width:{width:number}px;height:{height:number}px;position:fixed;cursor:pointer;z-index:99",this.config.BOTTOM_FLOAT_DEFAULT.doc),d.style.cssText+=";"+this.param.positionToStyle(this.config.POSITIONS[a],{bottom:10,left:-this.config.BOTTOM_FLOAT_DEFAULT.doc.width,right:-this.config.BOTTOM_FLOAT_DEFAULT.doc.width});var c=new Image;c.src=r,c.style.cssText="width:100%;height:100%;overflow:hidden;",this.dom.bind(d,"click",function(){o.park_easeInout(d,f,!1,function(){o.float_easeInout(t,f,!0)});var n=o.param.getFileName(e[0].d9,!1),s=i.response.d2&&i.response.d2!==-1?i.response.d2:"DEFAULT";o.cookie.setItem(o.config.USER_SET_PREFIX+i.id+"_"+s,"1|"+n,o.config.CLOSE_EXPIRES_DEFAULT),o.log.report(i.slotId,"replay")}),d.appendChild(c),document.body.appendChild(d)}var l=document.createElement("div");l.style.cssText=this.lang.format("width:100%;height:{defaultHeight:number}px;position:absolute;bottom:0;background:#0c0c0c;opacity:0.7;filter:alpha(opacity=70);z-index:1;",this.config.BOTTOM_FLOAT_DEFAULT);var h,p=i.response.dg;p===this.config.INTERACTIVE.nothing?h=document.createElement("div"):(h=document.createElement("a"),h.setAttribute("href",i.response.dh?i.response.dh:"#"),h.setAttribute("target","_blank"));h.style.cssText=this.lang.format("position:absolute;left:50%;margin-left:-{actualHalfWidth:number}px;width:{actualWidth:number}px;height:{actualHeight:number}px;background:url({actualPic:string}) center center no-repeat;display:block;z-index:99;",{actualWidth:resourceWidth,actualHalfWidth:resourceWidth/2,actualHeight:s,actualPic:e[0].d9});var u=this.config.POSITIONS[i.response.dm],f=7===i.response.dl?"left":"right";if("none"!==u){var g=this.param.positionToStyle(u,{top:s-this.config.BOTTOM_FLOAT_DEFAULT.defaultHeight+10,left:-25,right:-25,bottom:10}),m=document.createElement("a");m.style.cssText="position:absolute;z-index:100;cursor:pointer;width:25px;height:25px;background:url("+this.config.CLOSE_BUTTON_BASE+"images/close.png) center center no-repeat;"+g,this.dom.bind(m,"click",function(n){n&&n.stopPropagation?(n.stopPropagation(),n.preventDefault()):(window.event.cancelBubble=!0,window.event.returnValue=!1),o.float_easeInout(t,f,!1,function(){o.park_easeInout(d,f,!0)});var s=o.param.getFileName(e[0].d9,!1),r=i.response.d2&&i.response.d2!==-1?i.response.d2:"DEFAULT";o.cookie.setItem(o.config.USER_SET_PREFIX+i.id+"_"+r,"2|"+s,o.config.CLOSE_EXPIRES_DEFAULT),o.log.report(i.slotId,"close")}),h.appendChild(m)}this.dom.bind(h,"click",function(){o.log.report(i.slotId,"click")}),t.appendChild(h),t.appendChild(l),2===n&&void 0!==d&&o.park_easeInout(d,f,!0)},float_easeInout:function(t,e,i,n){if(t){var o=this,s=0,r=function(){var a=-o.tween.Quint.easeOut(s,0,100,50);i&&(a=-(100+a)),s++,i&&"none"===o.dom.getStyle(t,"display")&&(t.style.display=""),s<=50?(o.lang.requestAnimFrame(r),"function"==typeof n&&40===s&&n.call(o)):i||(t.style.display="none"),t.style[e]=a+"%"};r()}},park_easeInout:function(t,e,i,n){if(t){var o=this,s=0,r=this.config.BOTTOM_FLOAT_DEFAULT.doc.width,a=function(){var d=-o.tween.Quart.easeInOut(s,0,r,30);i&&(d=-(r+d)),s++,s<=30?o.lang.requestAnimFrame(a):"function"==typeof n&&n.call(o),t.style[e]=d+"px"};a()}}}),i.define({name:"mobilepic",namespace:"hjdsp.ui",deps:{config:"hjdsp.common.config",slot:"hjdsp.business.slot",dom:"hjdsp.common.utility.dom",log:"hjdsp.common.utility.log",material:"hjdsp.business.material",lang:"hjdsp.common.utility.lang",param:"hjdsp.business.param"},render:function(t){this.slot.setStatus(t.slotId,this.config.STATUS_RENDERED);var e=this.dom.get(t.containerId);if(e){var n=t.response.d7;if(n&&n.length>0){var o=this.material.materialFactory.mobileImage,s={target:"_blank",src:t.response.d7[0].d9,title:"",alt:"",height:"auto",width:"100%"},r=t.response.dg;r===this.config.INTERACTIVE.open?s.clickUrl=t.response.dh:r===this.config.INTERACTIVE.nothing&&(s.clickUrl="javascript:void(0)");var a=this.lang.format(o,s),d=parseInt(t.response.d7[0].d10)||-1;e.innerHTML=a,this.slot.setStatus(t.slotId,this.config.STATUS_FINISH),this.log.report(t.slotId,"show",d),this.dom.bind(e,"click",i.proxy(this,function(){this.log.report(t.slotId,"click",d)}))}else e.style.display="none"}}}),i.define({name:"dynamicpc",namespace:"hjdsp.ui",deps:{dom:"hjdsp.common.utility.dom",param:"hjdsp.business.param",frame:"hjdsp.business.frame",config:"hjdsp.common.config",slot:"hjdsp.business.slot",lang:"hjdsp.common.utility.lang",config:"hjdsp.common.config",log:"hjdsp.common.utility.log"},render:function(t){var e=this.dom.get(t.containerId);if(e){var i=this.frame.getFrameHTML(t);e.innerHTML=i,this.slot.setStatus(t.slotId,this.config.STATUS_FINISH);var n=this;if(2===(t.response.e0?t.response.e0:1)){var o=t.response.d5+25,s=t.response.d6,r=s/2,a=o/2;e.style.cssText=this.lang.format("position:fixed;width:{width:string}px;height:{height:string}px;z-index:1000;left:50%;top:50%;margin-left:-{marginLeft:string}px;margin-top:-{marginTop:string}px;overflow:hidden;",{height:o,width:s,marginLeft:r,marginTop:a});var d=document.createElement("div");d.style.cssText="position:relative;width:100%;height:25px;";var c=document.createElement("a");c.style.cssText="position:absolute;right:0;cursor:pointer;width:25px;height:25px;background:url("+this.config.CLOSE_BUTTON_BASE+"images/close.png) center center no-repeat;";var l=function(){var i=n.dom.get("uzt-mask");i&&(i.style.display="none"),e.style.display="none",n.log.report(t.slotId,"close")};this.dom.bind(c,"click",l),d.appendChild(c);var h=this.dom.get(t.iframeId);if(e.insertBefore(d,h),t.hasMask){var p=this.dom.get("uzt-mask")||document.createElement("div");p.id="uzt-mask",p.style.cssText="position:fixed;left:0;top:0;width:100%;height:100%;z-index:999;background:#0c0c0c;opacity:0.7;filter:alpha(opacity=70);",document.body.appendChild(p),t.isModal||this.dom.bind(p,"click",l)}}this.dom.unbind(window,"message"),this.dom.bind(window,"message",function(t){var e=t.data.split("|"),i=e[1];if(e.length>1&&!isNaN(i)){var o=n.slot.getSlotInfo(i),s=t.origin.replace("http:","").replace("https:","");~o.response.dx.indexOf(s)&&(o.response.g0=JSON.parse(e[2]),n.log.report(i,e[0],JSON.parse(e[2])))}})}}}),i.define({name:"dynamicmobile",namespace:"hjdsp.ui",deps:{dom:"hjdsp.common.utility.dom",lang:"hjdsp.common.utility.lang",log:"hjdsp.common.utility.log"},render:function(t){var e=this.dom.get(t.containerId);if(e){if(2===(t.response.e0?t.response.e0:1)){var i=function(){var t=this.dom.get("uzt-mask");t&&(t.style.display="none"),e.style.display="none"}.bind(this),n=t.response.dx;e.innerHTML=n;var o=document.documentElement.getBoundingClientRect().width,s=.85*o,r=s/2;e.style.cssText=this.lang.format("background-color:#fff;border-radius:5px;position:fixed;width:{width:string}px;z-index:1000;left:50%;top:50%;margin-left:-{marginLeft:string}px;overflow:hidden;",{width:s,marginLeft:r});var a=this.dom.getStyle(e,"height").replace("px",""),d=a/2;if(e.style.cssText+=this.lang.format("height:{height:string}px;margin-top:-{marginTop:string}px;",{width:s,marginTop:d}),t.hasMask){var c=this.dom.get("uzt-mask")||document.createElement("div");c.id="uzt-mask",c.style.cssText="position:fixed;left:0;top:0;width:100%;height:100%;z-index:999;background:#0c0c0c;opacity:0.7;filter:alpha(opacity=70);",document.body.appendChild(c),t.isModal||this.dom.bind(c,"click",i)}var l=0;for(childs=e.childNodes,cleng=childs.length,rg=[];l<cleng;l++)rg.push(JSON.parse(unescape(childs[0].getAttribute("data-log"))));this.log.report(t.slotId,"show",rg),this.dom.bind(e,"click",function(n){var o=n.target||n.srcElement;if(o&&o.hasAttribute("data-event")){var s=[],r={};r=this.dom.getAttributeUtil(o,e,"data-log")?JSON.parse(unescape(this.dom.getAttributeUtil(o,e,"data-log"))):{},s.push(r);for(var a=o.getAttribute("data-event").split(","),d=0;d<a.length;d++){switch(a[d]){case"close":i(),this.log.report(t.slotId,"close",s);break;case"click":this.log.report(t.slotId,"click",s);break;case"redirect":window.setTimeout(function(){location.href=o.href},50)}}}n.preventDefault()}.bind(this))}}}}),i.define({name:"none",namespace:"hjdsp.ui",deps:{dom:"hjdsp.common.utility.dom"},render:function(t){var e=this.dom.get(t.containerId);if(e)if(t.size){var i=t.size.split(",");i.length>1&&(e.style.cssText="width:"+i[0]+"px; height:"+i[1]+"px")}else e.style.display="none"}}),i.define({name:"painterSelector",namespace:"hjdsp.business",painters:{1:"fixpic",2:"textlinks",5:"drawcurtain",6:"bottomfloat",8:"mobilepic",18:"dynamicpc",19:"dynamicmobile",0:"none"},getPainter:function(t){var e=t&&t.hasOwnProperty("d4")?t.d4:0;if(this.painters.hasOwnProperty(e))return"hjdsp.ui."+this.painters[e]}}),i.define({name:"main",namespace:"hjdsp.ui.delivery",deps:{config:"hjdsp.common.config",data:"hjdsp.common.utility.data",dom:"hjdsp.common.utility.dom",slot:"hjdsp.business.slot",param:"hjdsp.business.param",painterSelector:"hjdsp.business.painterSelector",standardDelivery:"hjdsp.business.delivery.standardDelivery",asyncDelivery:"hjdsp.business.delivery.asyncDelivery"},process:function(){this.prepareApi(),this.standardDelivery.launch()},asyncProcess:function(t){this.prepareApi(),this.asyncDelivery.launch(t)},prepareApi:function(){this.data.defineOnce(this.config.LOADER_DEFINE_NAME,i.proxy(this,this.callback))},callback:function(t){if(0===t.status&&t.data)try{var e="string"==typeof t.data?JSON.parse(t.data):t.data,n=e.b2;this.slot.setStatus(n,this.config.STATUS_RESPONSE);var o=this.slot.getSlotInfo(n);o.response=e;var s=this.painterSelector.getPainter(o.response);s||retrun;var r=i.using(s);r&&r.render(o),"function"==typeof o.prioritCallback&&o.prioritCallback.call(this)}catch(t){}}});var n=i.using("hjdsp.ui.delivery.main");return n.process(),n}(t);"function"==typeof define&&define.amd?define("uzt",function(){return i}):"object"==typeof exports?module.exports=i:window._Uzt_Protected=i}(window);